matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (i in 1:64) {
PM10 <- list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
#jeżeli się nie zaznacza nic na plocie to znaczy że czujnik nie działa
corr_PM10 <- corr_df[,c("id","PM10","emitery")]
filt_PM10 <- subset(corr_PM10, PM10 != -1)
cor(x=filt_PM10$emitery,y=filt_PM10$PM10)
cor.test(filt_PM10$emitery, filt_PM10$PM10, method = "pearson")
plot(x=filt_PM10$emitery,y=filt_PM10$PM10)
corr_PM25 <- corr_df[,c("id","PM25","emitery")]
filt_PM25 <- subset(corr_PM25, PM25 != -1)
cor(x=filt_PM25$emitery,y=filt_PM25$PM25)
cor.test(filt_PM25$emitery, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$emitery,y=filt_PM25$PM25)
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # meters (your effective buffer size)
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (i in 1:64) {
PM10 <- list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
#jeżeli się nie zaznacza nic na plocie to znaczy że czujnik nie działa
corr_PM10 <- corr_df[,c("id","PM10","emitery")]
filt_PM10 <- subset(corr_PM10, PM10 != -1)
cor(x=filt_PM10$emitery,y=filt_PM10$PM10)
cor.test(filt_PM10$emitery, filt_PM10$PM10, method = "pearson")
plot(x=filt_PM10$emitery,y=filt_PM10$PM10)
corr_PM25 <- corr_df[,c("id","PM25","emitery")]
filt_PM25 <- subset(corr_PM25, PM25 != -1)
cor(x=filt_PM25$emitery,y=filt_PM25$PM25)
cor.test(filt_PM25$emitery, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$emitery,y=filt_PM25$PM25)
paleniska<-st_read("Potencjalnie_czynne_paleniska_w_2025.shp")
paleniska92<-st_transform(paleniska,crs = 2180)
centroids <- st_centroid(paleniska92)
paleniska_df <- cbind(st_coordinates(centroids),st_drop_geometry(centroids))
coordinates(paleniska_df) <- ~X+Y
proj4string(paleniska_df) <- CRS("+init=epsg:2180")
paleniska_UTM <- spTransform(
paleniska_df,
CRS("+proj=utm +zone=34 +datum=WGS84 +units=m +no_defs")
)
XY2 <- coordinates(paleniska_UTM)
paleniska_ppp <- ppp(
x = XY2[,1],
y = XY2[,2],
window=as.owin(krakowUTM)
)
plot(data15_ppp)
plot(paleniska_ppp, add=TRUE, pch=20, col='red')
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # meters (your effective buffer size)
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (i in 1:64) {
PM10 <- list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (dzien in lista_danych){
for (i in 1:64) {
PM10 <- dzien$list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- dzien$list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (dzien in lista_danych){
print(dzien)
for (i in 1:64) {
PM10 <- dzien$list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- dzien$list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (dzien in lista_danych){
for (i in 1:64) {
PM10 <- dzien$list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- dzien$list_inst2[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
corr_PM10 <- corr_df[,c("id","PM10","emitery")]
filt_PM10 <- subset(corr_PM10, PM10 != -1)
cor(x=filt_PM10$emitery,y=filt_PM10$PM10)
cor.test(filt_PM10$emitery, filt_PM10$PM10, method = "pearson")
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (dzien in lista_danych){
for (i in 1:64) {
PM10 <- dzien$current[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- dzien$current[[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
corr_PM10 <- corr_df[,c("id","PM10","emitery")]
filt_PM10 <- subset(corr_PM10, PM10 != -1)
cor(x=filt_PM10$emitery,y=filt_PM10$PM10)
cor.test(filt_PM10$emitery, filt_PM10$PM10, method = "pearson")
View(corr_df)
View(corr_df)
print(lista_danych)
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
print(lista_danych)
for (k in 1:10){
for (i in 1:64) {
PM10 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (k in 1:10){
for (i in 1:64) {
PM10 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
corr_PM10 <- corr_df[,c("id","PM10","emitery")]
filt_PM10 <- subset(corr_PM10, PM10 != -1)
cor(x=filt_PM10$emitery,y=filt_PM10$PM10)
cor.test(filt_PM10$emitery, filt_PM10$PM10, method = "pearson")
plot(x=filt_PM10$emitery,y=filt_PM10$PM10)
corr_PM25 <- corr_df[,c("id","PM25","emitery")]
filt_PM25 <- subset(corr_PM25, PM25 != -1)
cor(x=filt_PM25$emitery,y=filt_PM25$PM25)
cor.test(filt_PM25$emitery, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$emitery,y=filt_PM25$PM25)
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (k in 1:11){
for (i in 1:64) {
PM10 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
for (k in 1:10){
for (i in 1:64) {
PM10 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
PM25 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
if (is.null(PM10) || length(PM10) == 0) PM10=-1
if (is.null(PM25) || length(PM25) == 0) PM25=-1
corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
}
}
corr_PM10 <- corr_df[,c("id","PM10","emitery")]
filt_PM10 <- subset(corr_PM10, PM10 != -1)
cor(x=filt_PM10$emitery,y=filt_PM10$PM10)
cor.test(filt_PM10$emitery, filt_PM10$PM10, method = "pearson")
plot(x=filt_PM10$emitery,y=filt_PM10$PM10)
czujniki_spdf[!miss_vec,colname]
PM25 <- czujniki_spdf[!miss_vec,colname]
View(PM25)
View(PM25)
czujniki_sf$paleniska[!miss_vec,]
View(czujniki_sf)
View(czujniki_sf)
czujniki_sf$paleniska[!miss_vec]
length(czujniki_sf$paleniska[!miss_vec])
length(PM25)
length(czujniki_sf$paleniska[!miss_vec])
data.frame(PM25 = PM25, paleniska = czujniki_sf$paleniska[!miss_vec])
data.frame(PM25 = PM25$value, paleniska = czujniki_sf$paleniska[!miss_vec])
PM25
PM25[[1]]
PM25[[2]]
PM25[[0]]
PM25[[1]]
czujniki_sf$paleniska[!miss_vec]
PM25[[1]]
czujniki_sf$paleniska[!miss_vec]
data.frame(PM25 = PM25[[1]], paleniska = czujniki_sf$paleniska[!miss_vec])
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
for (colname in pm25_names) {
miss_vec <- miss[[paste0("miss_", colname)]]
PM25 <- czujniki_spdf[!miss_vec,colname]
czujniki_sf$paleniska[!miss_vec]
corr_df <- rbind(corr_df, data.frame(PM25 = PM25[[1]], paleniska = czujniki_sf$paleniska[!miss_vec]))
}
corr_PM10 <- corr_df[,c("id","PM10","emitery")]
filt_PM25 <- subset(corr_PM25, PM25 != -1)
corr_PM25 <- corr_df[,c("id","PM25","emitery")]
corr_PM25 <- corr_df[,c("PM25","emitery")]
corr_PM25 <- corr_df[,c("PM25","emitery")]
corr_PM25 <- corr_df[,c("PM25","paleniska")]
filt_PM25 <- subset(corr_PM25, PM25 != -1)
cor(x=filt_PM25$emitery,y=filt_PM25$PM25)
filt_PM25 <- subset(corr_PM25, PM25 != -1)
filt_PM25
corr_PM25 <- corr_df[,c("PM25","paleniska")]
filt_PM25 <- subset(corr_PM25, PM25 != -1)
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
cor.test(filt_PM25$paleniska, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$paleniska,y=filt_PM25$PM25)
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
pm25_rano <- c(
"pm25_04_8",
"pm25_09_8",
"pm25_12_8",
)
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
pm25_rano <- c(
"pm25_04_8",
"pm25_09_8",
"pm25_12_8"
)
for (colname in pm25_rano) {
miss_vec <- miss[[paste0("miss_", colname)]]
PM25 <- czujniki_spdf[!miss_vec,colname]
czujniki_sf$paleniska[!miss_vec]
corr_df <- rbind(corr_df, data.frame(PM25 = PM25[[1]],pora = "rano", paleniska = czujniki_sf$paleniska[!miss_vec]))
}
pm25_popoludniu <- c(
"pm25_04_16",
"pm25_09_16",
"pm25_12_16",
)
library(dplyr)
paleniska_sf  <- st_as_sf(paleniska_UTM)
czujniki_sf <- st_as_sf(data_in)
dist_mat <- st_distance(czujniki_sf, paleniska_sf)
dist_mat <- as.numeric(dist_mat)
dim(dist_mat) <- c(nrow(czujniki_sf), nrow(paleniska_sf))
bandwidth <- 2500  # max buffer w  metrach
weights <- exp(-(dist_mat^2) / (2 * bandwidth^2))
czujniki_sf$paleniska <- rowSums(weights)
corr_df <- data.frame(
matrix(ncol = 4, nrow = 0)  # 3 columns, 0 rows
)
colnames(corr_df) <- c("id","PM10","PM25","paleniska")
pm25_rano <- c(
"pm25_04_8",
"pm25_09_8",
"pm25_12_8"
)
for (colname in pm25_rano) {
miss_vec <- miss[[paste0("miss_", colname)]]
PM25 <- czujniki_spdf[!miss_vec,colname]
czujniki_sf$paleniska[!miss_vec]
corr_df <- rbind(corr_df, data.frame(PM25 = PM25[[1]],pora = "rano", paleniska = czujniki_sf$paleniska[!miss_vec]))
}
pm25_popoludniu <- c(
"pm25_04_16",
"pm25_09_16",
"pm25_12_16"
)
for (colname in pm25_popoludniu) {
miss_vec <- miss[[paste0("miss_", colname)]]
PM25 <- czujniki_spdf[!miss_vec,colname]
czujniki_sf$paleniska[!miss_vec]
corr_df <- rbind(corr_df, data.frame(PM25 = PM25[[1]],pora = "ppl", paleniska = czujniki_sf$paleniska[!miss_vec]))
}
pm25_wieczor <- c(
"pm25_04_21",
"pm25_09_21",
"pm25_12_21"
)
for (colname in pm25_wieczor) {
miss_vec <- miss[[paste0("miss_", colname)]]
PM25 <- czujniki_spdf[!miss_vec,colname]
czujniki_sf$paleniska[!miss_vec]
corr_df <- rbind(corr_df, data.frame(PM25 = PM25[[1]],pora = "wieczor", paleniska = czujniki_sf$paleniska[!miss_vec]))
}
#for (k in 1:10){
#  for (i in 1:64) {
#    PM10 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM10"]
#    PM25 <- lista_danych[[k]][[i]]$current$values$value[list_inst2[[i]]$current$values$name == "PM25"]
#
#    if (is.null(PM10) || length(PM10) == 0) PM10=-1
#    if (is.null(PM25) || length(PM25) == 0) PM25=-1
#    corr_df <- rbind(corr_df, data.frame(id = i, PM10=PM10, PM25=PM25, emitery=czujniki_sf$paleniska[i]))
# }
#}
filt_PM25 <- subset(corr_PM25, pora="rano")
filt_PM25
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, pora="rano")
filt_PM25
filt_PM25 <- subset(corr_PM25, pora=="rano")
filt_PM25
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, pora=="rano")
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
cor.test(filt_PM25$paleniska, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$paleniska,y=filt_PM25$PM25)
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, pora=="ppl")
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
cor.test(filt_PM25$paleniska, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$paleniska,y=filt_PM25$PM25)
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, pora=="wieczor")
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
cor.test(filt_PM25$paleniska, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$paleniska,y=filt_PM25$PM25)
filt_PM25 <- subset(corr_PM25, pora=="wieczor", PM25<20)
filt_PM25
filt_PM25 <- subset(corr_PM25, pora=="wieczor", PM25>20)
filt_PM25
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, pora=="wieczor", PM25>20)
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, pora=="wieczor", PM25>20)
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
filt_PM25 <- subset(corr_PM25, pora=="wieczor", PM25>20)
filt_PM25
filt_PM25 <- subset(corr_PM25, pora=="wieczor")
filt_PM25
filt_PM25 <- subset(corr_PM25, pora=="wieczor", PM25>20)
filt_PM25
filt_PM25 <- subset(corr_PM25,PM25>20 ,pora=="wieczor")
filt_PM25
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, PM25>20 ,pora=="wieczor")
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25,pora=="wieczor")
filt_PM25 <- subset(filt_PM25,PM25>20)
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
cor.test(filt_PM25$paleniska, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$paleniska,y=filt_PM25$PM25)
corr_PM25 <- corr_df[,c("PM25","paleniska","pora")]
filt_PM25 <- subset(corr_PM25, pora=="wieczor")
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
cor.test(filt_PM25$paleniska, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$paleniska,y=filt_PM25$PM25)
corr_PM25 <- corr_df[,c("PM25","paleniska")]
filt_PM25 <- subset(corr_PM25)
filt_PM25
cor(x=filt_PM25$paleniska,y=filt_PM25$PM25)
cor.test(filt_PM25$paleniska, filt_PM25$PM25, method = "pearson")
plot(x=filt_PM25$paleniska,y=filt_PM25$PM25)
